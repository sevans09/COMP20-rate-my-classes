<!doctype html>
<html>
<head>
	<% include ../partials/header.ejs %>
	
    <title>Rate</title>

</head>
<body>
	<% include ../partials/nav.ejs %>
	<!-- Begin page content -->
	<main role="main" class="flex-shrink-0">
		<div class="container" style="background-color: rgba(255, 255, 255, 0.8); padding: 2% 2%; margin-top: 2%;  margin-bottom: 2%">
			<h1 class="head text-center">Rate a Class</h1>
			<form id="rating" action="/post_class" method="POST" novalidate>
			<div class="container">
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 1: </h3>
					</div>

					<!-- Department -->
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="department">Select a Department:</label>
							<select name="dep" class="custom-select my-1 mr-sm-2" id="department" style="width: 20%">
								<option selected>Select</option>
							</select>
						</div>
					</form-group> 
					</div>
				</div>

				<!-- Course Number -->
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 2: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="class_num">Select a Course Number:</label>
							<input name="class_num" type="text" class="form-control" id="class_num" style="width: 20%">
						</div>
					</form-group> 
					</div>
				</div>

				<!-- Date Taken -->
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 2: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="term">Term: </label>
							<select name="term" class="custom-select my-1 mr-sm-2" id="term" style="width: 20%">
								<option selected>Select</option>
								<option value="Fall">Fall</option>
								<option value="Spring">Spring</option>
								<option value="Summer">Summer</option>
								<option value="Other">Other</option>
							</select>
							<label class="mr-sm-2" for="year">Year: </label>
							<select name="year" class="custom-select my-1 mr-sm-2" id="year" style="width: 20%">
								<option selected>Select</option>
							</select>
						</div>
					</form-group> 
					</div>
				</div>

				<!-- Number Ratings -->
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 3: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="overall">Rate the Overall Course:</label>
							<select name="overall" class="custom-select my-1 mr-sm-2" id="overall" style="width: 20%">
								<option selected>Select</option>
								<option value="1">1–Terrible</option>
								<option value="2">2-Mediocre</option>
								<option value="3">3-Average</option>
								<option value="3">4-Good</option>
								<option value="3">5-Awesome</option>
							</select>
						</div>
					</form-group> 
					</div>
				</div>

				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 4: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="difficulty">Rate the Level of Difficulty:</label>
							<select name="difficulty" class="custom-select my-1 mr-sm-2" id="difficulty" style="width: 20%">
								<option selected>Select</option>
								<option value="1">1-I just have to show up to get an A</option>
								<option value="2">2-Pretty Easy</option>
								<option value="3">3-Hard, but manageable</option>
								<option value="4">4-TOuGh</option>
								<option value="5">5–Hardest class I've ever taken</option>
							</select>
						</div>
					</form-group> 
					</div>			
				</div>

				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 4: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="workload">Rate the Level of Work:</label>
							<select name="workload" class="custom-select my-1 mr-sm-2" id="workload" style="width: 20%">
								<option selected>Select</option>
								<option value="1">1-I just have to show up to get an A</option>
								<option value="2">2-Pretty Easy</option>
								<option value="3">3-Hard, but manageable</option>
								<option value="4">4-TOuGh</option>
								<option value="5">5–Hardest class I've ever taken</option>
							</select>
						</div>
					</form-group> 
					</div>			
				</div>

				<!-- Professor -->
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 4: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="prof">Professor:</label>
							<input name="prof" type="text" class="form-control" id="prof" style="width: 20%">
						</div>
					</form-group> 
					</div>			
				</div>

				<!-- Grade -->
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 5: </h3>
					</div>

					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="grade">Grade Received:</label>
							<select name="grade" class="custom-select my-1 mr-sm-2" id="grade" style="width: 20%">
								<option selected>Select</option>
								<option value="1">A+</option>
								<option value="2">A</option>
								<option value="3">A-</option>
								<option value="4">B+</option>
								<option value="5">B</option>
								<option value="6">B-</option>
								<option value="7">C+</option>
								<option value="8">C</option>
								<option value="9">C-</option>
								<option value="10">D+</option>
								<option value="11">D</option>
								<option value="12">D-</option>
								<option value="13">F</option>
								<option value="14">Drop/Withdrawal</option>
								<option value="15">Incomplete</option>
								<option value="16">Not Sure Yet</option>
								<option value="17">Would Rather Not Say</option>
								<option value="18">Audit/No Grade</option>
							</select>
						</div>
					</form-group> 
					</div>			
				</div>

				<!-- Attendance -->
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 4: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="container text-center" style="padding: 2% 0 2% 0">
							<label class="mr-sm-2" for="attendance">Attendance:</label>
							<select name="attendance" class="custom-select my-1 mr-sm-2" id="attendance" style="width: 20%">
								<option selected>Select</option>
								<option value="1">Mantatory</option>
								<option value="2">Not Mandatory</option>
							</select>
						</div>
					</form-group> 
					</div>			
				</div>

				<!-- Comments -->
				<div class="row">
					<div class="col-3">
						<h3 class="head blue" style="float: right; margin-top: 8%">Step 6: </h3>
					</div>
					<div class="col-9">
					<form-group>
						<div class="text-center form-group">
							<label for="comments">Leave some <u>constructive</u> comments:</label>
							<p class="text-muted"> Please refrain from using harmful language.</p>
							<textarea name="comments" style="width: 80%; margin: auto" class="form-control" id="comments" rows="3"></textarea>
						</div>
					</form-group> 
					</div>			
				</div>

				<div class="container text-center" style="padding: 2% 0 2% 0">
					<button class="btn btn-primary go-btn" type="submit">Submit</button>
				</div>
			</div>
			</form> 
		</div>
	</main>

	<% include ../partials/footer.ejs %>

	<script>
		$(document).ready(function() {
			load_select_year();
			load_select_departments();
		});

		function load_select_year() {
			var date = new Date,
			year = date.getFullYear();

			for (var i = year; i > year - 5; i--) {
				$("#year").append(`<option value="` + i + `">` + i + `</option>`)
			}
		}

		function load_select_departments() {
			var xhr = new XMLHttpRequest();
            
            xhr.onreadystatechange = function () {
                if (this.readyState != 4) return;
            
                if (this.status == 200) {
					data = JSON.parse(this.responseText);
					data.forEach(function(elem) {
						$("#department").append(`<option value="` + elem + `">` + elem + `</option>`)
					});
                }
            };

            xhr.open('GET', '/departments_json', true);
            xhr.send();
		}
	</script>
</body>
</html>
